(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();const ln=!1;var kt=Array.isArray,Kn=Array.prototype.indexOf,Ot=Array.from,bt=Object.defineProperty,De=Object.getOwnPropertyDescriptor,an=Object.getOwnPropertyDescriptors,Jn=Object.prototype,Gn=Array.prototype,At=Object.getPrototypeOf,Bt=Object.isExtensible;function Qn(e){return e()}function Xe(e){for(var t=0;t<e.length;t++)e[t]()}function Xn(){var e,t,n=new Promise((r,i)=>{e=r,t=i});return{promise:n,resolve:e,reject:t}}const j=2,sn=4,rt=8,Te=16,ne=32,me=64,fn=128,W=256,Ze=512,M=1024,Y=2048,ce=4096,K=8192,ke=16384,Nt=32768,Pt=65536,Wt=1<<17,Zn=1<<18,He=1<<19,un=1<<20,Et=1<<21,Ct=1<<22,de=1<<23,Le=Symbol("$state"),It=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function zn(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function er(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function tr(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function nr(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function rr(e){throw new Error("https://svelte.dev/e/effect_orphan")}function ir(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function lr(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ar(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function sr(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const it=1,lt=2,on=4,fr=8,ur=16,or=1,cr=2,I=Symbol(),vr="http://www.w3.org/1999/xhtml";let _r=!1;function cn(e){return e===this.v}function dr(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function vn(e){return!dr(e,this.v)}let at=!1,hr=!1;function pr(){at=!0}let R=null;function ze(e){R=e}function _n(e,t=!1,n){R={p:R,c:null,e:null,s:e,x:null,l:at&&!t?{s:null,u:null,$:[]}:null}}function dn(e){var t=R,n=t.e;if(n!==null){t.e=null;for(var r of n)An(r)}return R=t.p,{}}function Be(){return!at||R!==null&&R.l===null}const mr=new WeakMap;function wr(e){var t=y;if(t===null)return g.f|=de,e;if((t.f&Nt)===0){if((t.f&fn)===0)throw!t.parent&&e instanceof Error&&hn(e),e;t.b.error(e)}else Rt(e,t)}function Rt(e,t){for(;t!==null;){if((t.f&fn)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&hn(e),e}function hn(e){const t=mr.get(e);t&&(bt(e,"message",{value:t.message}),bt(e,"stack",{value:t.stack}))}let se=[],et=[];function pn(){var e=se;se=[],Xe(e)}function gr(){var e=et;et=[],Xe(e)}function yr(){return se.length>0||et.length>0}function Mt(e){if(se.length===0&&!Fe){var t=se;queueMicrotask(()=>{t===se&&pn()})}se.push(e)}function br(){se.length>0&&pn(),et.length>0&&gr()}function Er(){const e=y.b;return e===null&&zn(),e}function Dt(e){var t=j|Y,n=g!==null&&(g.f&j)!==0?g:null;return y===null||n!==null&&(n.f&W)!==0?t|=W:y.f|=He,{ctx:R,deps:null,effects:null,equals:cn,f:t,fn:e,reactions:null,rv:0,v:I,wv:0,parent:n??y,ac:null}}function Sr(e,t){let n=y;n===null&&er();var r=n.b,i=void 0,l=qe(I),a=null,u=!g;return qr(()=>{try{var s=e();a&&Promise.resolve(s).catch(()=>{})}catch(v){s=Promise.reject(v)}var f=()=>s;i=a?.then(f,f)??Promise.resolve(s),a=i;var c=O,_=r.is_pending();u&&(r.update_pending_count(1),_||c.increment());const d=(v,o=void 0)=>{a=null,_||c.activate(),o?o!==It&&(l.f|=de,Ue(l,o)):((l.f&de)!==0&&(l.f^=de),Ue(l,v)),u&&(r.update_pending_count(-1),_||c.decrement()),yn()};if(i.then(d,v=>d(null,v||"unknown")),c)return()=>{queueMicrotask(()=>c.neuter())}}),new Promise(s=>{function f(c){function _(){c===i?s(l):f(i)}c.then(_,_)}f(i)})}function mn(e){const t=Dt(e);return t.equals=vn,t}function wn(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)te(t[n])}}function xr(e){for(var t=e.parent;t!==null;){if((t.f&j)===0)return t;t=t.parent}return null}function Lt(e){var t,n=y;oe(xr(e));try{wn(e),t=qn(e)}finally{oe(n)}return t}function gn(e){var t=Lt(e);if(e.equals(t)||(e.v=t,e.wv=Ln()),!Oe){var n=(fe||(e.f&W)!==0)&&e.deps!==null?ce:M;L(e,n)}}function Tr(e,t,n){const r=Be()?Dt:mn;if(t.length===0){n(e.map(r));return}var i=O,l=y,a=kr(),u=Er();Promise.all(t.map(s=>Sr(s))).then(s=>{i?.activate(),a();try{n([...e.map(r),...s])}catch(f){(l.f&ke)===0&&Rt(f,l)}i?.deactivate(),yn()}).catch(s=>{u.error(s)})}function kr(){var e=y,t=g,n=R,r=O;return function(){oe(e),Z(t),ze(n),r?.activate()}}function yn(){oe(null),Z(null),ze(null)}const ht=new Set;let O=null,Qe=null,Yt=new Set,pe=[],st=null,St=!1,Fe=!1;class Se{current=new Map;#f=new Map;#i=new Set;#e=0;#u=null;#o=!1;#n=[];#l=[];#r=[];#t=[];#a=[];#c=[];#v=[];skipped_effects=new Set;process(t){pe=[],Qe=null;for(const i of t)this.#d(i);if(this.#n.length===0&&this.#e===0){this.#_();var n=this.#r,r=this.#t;this.#r=[],this.#t=[],this.#a=[],Qe=O,O=null,$t(n),$t(r),O===null?O=this:ht.delete(this),this.#u?.resolve()}else this.#s(this.#r),this.#s(this.#t),this.#s(this.#a);for(const i of this.#n)Ee(i);for(const i of this.#l)Ee(i);this.#n=[],this.#l=[]}#d(t){t.f^=M;for(var n=t.first;n!==null;){var r=n.f,i=(r&(ne|me))!==0,l=i&&(r&M)!==0,a=l||(r&K)!==0||this.skipped_effects.has(n);if(!a&&n.fn!==null){if(i)n.f^=M;else if((r&sn)!==0)this.#t.push(n);else if((r&M)===0)if((r&Ct)!==0){var u=n.b?.is_pending()?this.#l:this.#n;u.push(n)}else ot(n)&&((n.f&Te)!==0&&this.#a.push(n),Ee(n));var s=n.first;if(s!==null){n=s;continue}}var f=n.parent;for(n=n.next;n===null&&f!==null;)n=f.next,f=f.parent}}#s(t){for(const n of t)((n.f&Y)!==0?this.#c:this.#v).push(n),L(n,M);t.length=0}capture(t,n){this.#f.has(t)||this.#f.set(t,n),this.current.set(t,t.v)}activate(){O=this}deactivate(){O=null,Qe=null;for(const t of Yt)if(Yt.delete(t),t(),O!==null)break}neuter(){this.#o=!0}flush(){pe.length>0?bn():this.#_(),O===this&&(this.#e===0&&ht.delete(this),this.deactivate())}#_(){if(!this.#o)for(const t of this.#i)t();this.#i.clear()}increment(){this.#e+=1}decrement(){if(this.#e-=1,this.#e===0){for(const t of this.#c)L(t,Y),xe(t);for(const t of this.#v)L(t,ce),xe(t);this.#r=[],this.#t=[],this.flush()}else this.deactivate()}add_callback(t){this.#i.add(t)}settled(){return(this.#u??=Xn()).promise}static ensure(){if(O===null){const t=O=new Se;ht.add(O),Fe||Se.enqueue(()=>{O===t&&t.flush()})}return O}static enqueue(t){Mt(t)}}function Or(e){var t=Fe;Fe=!0;try{for(var n;;){if(br(),pe.length===0&&!yr()&&(O?.flush(),pe.length===0))return st=null,n;bn()}}finally{Fe=t}}function bn(){var e=be;St=!0;try{var t=0;for(Xt(!0);pe.length>0;){var n=Se.ensure();if(t++>1e3){var r,i;Ar()}n.process(pe),ue.clear()}}finally{St=!1,Xt(e),st=null}}function Ar(){try{ir()}catch(e){Rt(e,st)}}let _e=null;function $t(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(ke|K))===0&&ot(r)&&(_e=[],Ee(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?In(r):r.fn=null),_e?.length>0)){ue.clear();for(const i of _e)Ee(i);_e=[]}}_e=null}}function xe(e){for(var t=st=e;t.parent!==null;){t=t.parent;var n=t.f;if(St&&t===y&&(n&Te)!==0)return;if((n&(me|ne))!==0){if((n&M)===0)return;t.f^=M}}pe.push(t)}const ue=new Map;function qe(e,t){var n={f:0,v:e,reactions:null,equals:cn,rv:0,wv:0};return n}function ie(e,t){const n=qe(e);return Hr(n),n}function ae(e,t=!1,n=!0){const r=qe(e);return t||(r.equals=vn),at&&n&&R!==null&&R.l!==null&&(R.l.s??=[]).push(r),r}function Nr(e,t){return k(e,jt(()=>h(e))),t}function k(e,t,n=!1){g!==null&&(!X||(g.f&Wt)!==0)&&Be()&&(g.f&(j|Te|Ct|Wt))!==0&&!ee?.includes(e)&&sr();let r=n?Re(t):t;return Ue(e,r)}function Ue(e,t){if(!e.equals(t)){var n=e.v;Oe?ue.set(e,t):ue.set(e,n),e.v=t;var r=Se.ensure();r.capture(e,n),(e.f&j)!==0&&((e.f&Y)!==0&&Lt(e),L(e,(e.f&W)===0?M:ce)),e.wv=Ln(),En(e,Y),Be()&&y!==null&&(y.f&M)!==0&&(y.f&(ne|me))===0&&(B===null?Br([e]):B.push(e))}return t}function pt(e){k(e,e.v+1)}function En(e,t){var n=e.reactions;if(n!==null)for(var r=Be(),i=n.length,l=0;l<i;l++){var a=n[l],u=a.f;if(!(!r&&a===y)){var s=(u&Y)===0;s&&L(a,t),(u&j)!==0?En(a,ce):s&&((u&Te)!==0&&_e!==null&&_e.push(a),xe(a))}}}function Re(e){if(typeof e!="object"||e===null||Le in e)return e;const t=At(e);if(t!==Jn&&t!==Gn)return e;var n=new Map,r=kt(e),i=ie(0),l=he,a=u=>{if(he===l)return u();var s=g,f=he;Z(null),zt(l);var c=u();return Z(s),zt(f),c};return r&&n.set("length",ie(e.length)),new Proxy(e,{defineProperty(u,s,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&lr();var c=n.get(s);return c===void 0?c=a(()=>{var _=ie(f.value);return n.set(s,_),_}):k(c,f.value,!0),!0},deleteProperty(u,s){var f=n.get(s);if(f===void 0){if(s in u){const c=a(()=>ie(I));n.set(s,c),pt(i)}}else k(f,I),pt(i);return!0},get(u,s,f){if(s===Le)return e;var c=n.get(s),_=s in u;if(c===void 0&&(!_||De(u,s)?.writable)&&(c=a(()=>{var v=Re(_?u[s]:I),o=ie(v);return o}),n.set(s,c)),c!==void 0){var d=h(c);return d===I?void 0:d}return Reflect.get(u,s,f)},getOwnPropertyDescriptor(u,s){var f=Reflect.getOwnPropertyDescriptor(u,s);if(f&&"value"in f){var c=n.get(s);c&&(f.value=h(c))}else if(f===void 0){var _=n.get(s),d=_?.v;if(_!==void 0&&d!==I)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return f},has(u,s){if(s===Le)return!0;var f=n.get(s),c=f!==void 0&&f.v!==I||Reflect.has(u,s);if(f!==void 0||y!==null&&(!c||De(u,s)?.writable)){f===void 0&&(f=a(()=>{var d=c?Re(u[s]):I,v=ie(d);return v}),n.set(s,f));var _=h(f);if(_===I)return!1}return c},set(u,s,f,c){var _=n.get(s),d=s in u;if(r&&s==="length")for(var v=f;v<_.v;v+=1){var o=n.get(v+"");o!==void 0?k(o,I):v in u&&(o=a(()=>ie(I)),n.set(v+"",o))}if(_===void 0)(!d||De(u,s)?.writable)&&(_=a(()=>ie(void 0)),k(_,Re(f)),n.set(s,_));else{d=_.v!==I;var p=a(()=>Re(f));k(_,p)}var w=Reflect.getOwnPropertyDescriptor(u,s);if(w?.set&&w.set.call(c,f),!d){if(r&&typeof s=="string"){var T=n.get("length"),E=Number(s);Number.isInteger(E)&&E>=T.v&&k(T,E+1)}pt(i)}return!0},ownKeys(u){h(i);var s=Reflect.ownKeys(u).filter(_=>{var d=n.get(_);return d===void 0||d.v!==I});for(var[f,c]of n)c.v!==I&&!(f in u)&&s.push(f);return s},setPrototypeOf(){ar()}})}var Kt,Sn,xn,Tn;function Pr(){if(Kt===void 0){Kt=window,Sn=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;xn=De(t,"firstChild").get,Tn=De(t,"nextSibling").get,Bt(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Bt(n)&&(n.__t=void 0)}}function We(e=""){return document.createTextNode(e)}function tt(e){return xn.call(e)}function ft(e){return Tn.call(e)}function le(e,t){return tt(e)}function Jt(e,t){{var n=tt(e);return n instanceof Comment&&n.data===""?ft(n):n}}function V(e,t=1,n=!1){let r=e;for(;t--;)r=ft(r);return r}function Cr(e){e.textContent=""}function kn(){return!1}let Gt=!1;function Ir(){Gt||(Gt=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function ut(e){var t=g,n=y;Z(null),oe(null);try{return e()}finally{Z(t),oe(n)}}function Rr(e,t,n,r=n){e.addEventListener(t,()=>ut(n));const i=e.__on_r;i?e.__on_r=()=>{i(),r(!0)}:e.__on_r=()=>r(!0),Ir()}function On(e){y===null&&g===null&&rr(),g!==null&&(g.f&W)!==0&&y===null&&nr(),Oe&&tr()}function Mr(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function re(e,t,n,r=!0){var i=y;i!==null&&(i.f&K)!==0&&(e|=K);var l={ctx:R,deps:null,nodes_start:null,nodes_end:null,f:e|Y,first:null,fn:t,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Ee(l),l.f|=Nt}catch(s){throw te(l),s}else t!==null&&xe(l);if(r){var a=l;if(n&&a.deps===null&&a.teardown===null&&a.nodes_start===null&&a.first===a.last&&(a.f&He)===0&&(a=a.first),a!==null&&(a.parent=i,i!==null&&Mr(a,i),g!==null&&(g.f&j)!==0&&(e&me)===0)){var u=g;(u.effects??=[]).push(a)}}return l}function Dr(e){const t=re(rt,null,!1);return L(t,M),t.teardown=e,t}function Qt(e){On();var t=y.f,n=!g&&(t&ne)!==0&&(t&Nt)===0;if(n){var r=R;(r.e??=[]).push(e)}else return An(e)}function An(e){return re(sn|un,e,!1)}function Lr(e){return On(),re(rt|un,e,!0)}function Fr(e){Se.ensure();const t=re(me|He,e,!0);return(n={})=>new Promise(r=>{n.outro?Ft(t,()=>{te(t),r(void 0)}):(te(t),r(void 0))})}function qr(e){return re(Ct|He,e,!0)}function Ur(e,t=0){return re(rt|t,e,!0)}function Ke(e,t=[],n=[]){Tr(t,n,r=>{re(rt,()=>e(...r.map(h)),!0)})}function Nn(e,t=0){var n=re(Te|t,e,!0);return n}function je(e,t=!0){return re(ne|He,e,!0,t)}function Pn(e){var t=e.teardown;if(t!==null){const n=Oe,r=g;Zt(!0),Z(null);try{t.call(null)}finally{Zt(n),Z(r)}}}function Cn(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const i=n.ac;i!==null&&ut(()=>{i.abort(It)});var r=n.next;(n.f&me)!==0?n.parent=null:te(n,t),n=r}}function jr(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&ne)===0&&te(t),t=n}}function te(e,t=!0){var n=!1;(t||(e.f&Zn)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Vr(e.nodes_start,e.nodes_end),n=!0),Cn(e,t&&!n),nt(e,0),L(e,ke);var r=e.transitions;if(r!==null)for(const l of r)l.stop();Pn(e);var i=e.parent;i!==null&&i.first!==null&&In(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Vr(e,t){for(;e!==null;){var n=e===t?null:ft(e);e.remove(),e=n}}function In(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Ft(e,t){var n=[];qt(e,n,!0),Rn(n,()=>{te(e),t&&t()})}function Rn(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var i of e)i.out(r)}else t()}function qt(e,t,n){if((e.f&K)===0){if(e.f^=K,e.transitions!==null)for(const a of e.transitions)(a.is_global||n)&&t.push(a);for(var r=e.first;r!==null;){var i=r.next,l=(r.f&Pt)!==0||(r.f&ne)!==0;qt(r,t,l?n:!1),r=i}}}function Ut(e){Mn(e,!0)}function Mn(e,t){if((e.f&K)!==0){e.f^=K,(e.f&M)===0&&(L(e,Y),xe(e));for(var n=e.first;n!==null;){var r=n.next,i=(n.f&Pt)!==0||(n.f&ne)!==0;Mn(n,i?t:!1),n=r}if(e.transitions!==null)for(const l of e.transitions)(l.is_global||t)&&l.in()}}let be=!1;function Xt(e){be=e}let Oe=!1;function Zt(e){Oe=e}let g=null,X=!1;function Z(e){g=e}let y=null;function oe(e){y=e}let ee=null;function Hr(e){g!==null&&(ee===null?ee=[e]:ee.push(e))}let D=null,U=0,B=null;function Br(e){B=e}let Dn=1,Ve=0,he=Ve;function zt(e){he=e}let fe=!1;function Ln(){return++Dn}function ot(e){var t=e.f;if((t&Y)!==0)return!0;if((t&ce)!==0){var n=e.deps,r=(t&W)!==0;if(n!==null){var i,l,a=(t&Ze)!==0,u=r&&y!==null&&!fe,s=n.length;if((a||u)&&(y===null||(y.f&ke)===0)){var f=e,c=f.parent;for(i=0;i<s;i++)l=n[i],(a||!l?.reactions?.includes(f))&&(l.reactions??=[]).push(f);a&&(f.f^=Ze),u&&c!==null&&(c.f&W)===0&&(f.f^=W)}for(i=0;i<s;i++)if(l=n[i],ot(l)&&gn(l),l.wv>e.wv)return!0}(!r||y!==null&&!fe)&&L(e,M)}return!1}function Fn(e,t,n=!0){var r=e.reactions;if(r!==null&&!ee?.includes(e))for(var i=0;i<r.length;i++){var l=r[i];(l.f&j)!==0?Fn(l,t,!1):t===l&&(n?L(l,Y):(l.f&M)!==0&&L(l,ce),xe(l))}}function qn(e){var t=D,n=U,r=B,i=g,l=fe,a=ee,u=R,s=X,f=he,c=e.f;D=null,U=0,B=null,fe=(c&W)!==0&&(X||!be||g===null),g=(c&(ne|me))===0?e:null,ee=null,ze(e.ctx),X=!1,he=++Ve,e.ac!==null&&(ut(()=>{e.ac.abort(It)}),e.ac=null);try{e.f|=Et;var _=e.fn,d=_(),v=e.deps;if(D!==null){var o;if(nt(e,U),v!==null&&U>0)for(v.length=U+D.length,o=0;o<D.length;o++)v[U+o]=D[o];else e.deps=v=D;if(!fe||(c&j)!==0&&e.reactions!==null)for(o=U;o<v.length;o++)(v[o].reactions??=[]).push(e)}else v!==null&&U<v.length&&(nt(e,U),v.length=U);if(Be()&&B!==null&&!X&&v!==null&&(e.f&(j|ce|Y))===0)for(o=0;o<B.length;o++)Fn(B[o],e);return i!==null&&i!==e&&(Ve++,B!==null&&(r===null?r=B:r.push(...B))),(e.f&de)!==0&&(e.f^=de),d}catch(p){return wr(p)}finally{e.f^=Et,D=t,U=n,B=r,g=i,fe=l,ee=a,ze(u),X=s,he=f}}function Wr(e,t){let n=t.reactions;if(n!==null){var r=Kn.call(n,e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}n===null&&(t.f&j)!==0&&(D===null||!D.includes(t))&&(L(t,ce),(t.f&(W|Ze))===0&&(t.f^=Ze),wn(t),nt(t,0))}function nt(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Wr(e,n[r])}function Ee(e){var t=e.f;if((t&ke)===0){L(e,M);var n=y,r=be;y=e,be=!0;try{(t&Te)!==0?jr(e):Cn(e),Pn(e);var i=qn(e);e.teardown=typeof i=="function"?i:null,e.wv=Dn;var l;ln&&hr&&(e.f&Y)!==0&&e.deps}finally{be=r,y=n}}}async function Yr(){await Promise.resolve(),Or()}function h(e){var t=e.f,n=(t&j)!==0;if(g!==null&&!X){var r=y!==null&&(y.f&ke)!==0;if(!r&&!ee?.includes(e)){var i=g.deps;if((g.f&Et)!==0)e.rv<Ve&&(e.rv=Ve,D===null&&i!==null&&i[U]===e?U++:D===null?D=[e]:(!fe||!D.includes(e))&&D.push(e));else{(g.deps??=[]).push(e);var l=e.reactions;l===null?e.reactions=[g]:l.includes(g)||l.push(g)}}}else if(n&&e.deps===null&&e.effects===null){var a=e,u=a.parent;u!==null&&(u.f&W)===0&&(a.f^=W)}if(Oe){if(ue.has(e))return ue.get(e);if(n){a=e;var s=a.v;return((a.f&M)===0&&a.reactions!==null||Un(a))&&(s=Lt(a)),ue.set(a,s),s}}else n&&(a=e,ot(a)&&gn(a));if((e.f&de)!==0)throw e.v;return e.v}function Un(e){if(e.v===I)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(ue.has(t)||(t.f&j)!==0&&Un(t))return!0;return!1}function jt(e){var t=X;try{return X=!0,e()}finally{X=t}}const $r=-7169;function L(e,t){e.f=e.f&$r|t}function Kr(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Le in e)xt(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Le in n&&xt(n)}}}function xt(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{xt(e[r],t)}catch{}const n=At(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=an(n);for(let i in r){const l=r[i].get;if(l)try{l.call(e)}catch{}}}}}const Jr=["touchstart","touchmove"];function Gr(e){return Jr.includes(e)}const Qr=new Set,en=new Set;function Xr(e,t,n,r={}){function i(l){if(r.capture||Me.call(t,l),!l.cancelBubble)return ut(()=>n?.call(this,l))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Mt(()=>{t.addEventListener(e,i,r)}):t.addEventListener(e,i,r),i}function Ne(e,t,n,r,i){var l={capture:r,passive:i},a=Xr(e,t,n,l);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Dr(()=>{t.removeEventListener(e,a,l)})}let tn=null;function Me(e){var t=this,n=t.ownerDocument,r=e.type,i=e.composedPath?.()||[],l=i[0]||e.target;tn=e;var a=0,u=tn===e&&e.__root;if(u){var s=i.indexOf(u);if(s!==-1&&(t===document||t===window)){e.__root=t;return}var f=i.indexOf(t);if(f===-1)return;s<=f&&(a=s)}if(l=i[a]||e.target,l!==t){bt(e,"currentTarget",{configurable:!0,get(){return l||n}});var c=g,_=y;Z(null),oe(null);try{for(var d,v=[];l!==null;){var o=l.assignedSlot||l.parentNode||l.host||null;try{var p=l["__"+r];if(p!=null&&(!l.disabled||e.target===l))if(kt(p)){var[w,...T]=p;w.apply(l,[e,...T])}else p.call(l,e)}catch(E){d?v.push(E):d=E}if(e.cancelBubble||o===t||o===null)break;l=o}if(d){for(let E of v)queueMicrotask(()=>{throw E});throw d}}finally{e.__root=t,delete e.currentTarget,Z(c),oe(_)}}}function Zr(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Tt(e,t){var n=y;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function J(e,t){var n=(t&or)!==0,r=(t&cr)!==0,i,l=!e.startsWith("<!>");return()=>{i===void 0&&(i=Zr(l?e:"<!>"+e),n||(i=tt(i)));var a=r||Sn?document.importNode(i,!0):i.cloneNode(!0);if(n){var u=tt(a),s=a.lastChild;Tt(u,s)}else Tt(a,a);return a}}function zr(){var e=document.createDocumentFragment(),t=document.createComment(""),n=We();return e.append(t,n),Tt(t,n),e}function H(e,t){e!==null&&e.before(t)}function Je(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function ei(e,t){return ti(e,t)}const ye=new Map;function ti(e,{target:t,anchor:n,props:r={},events:i,context:l,intro:a=!0}){Pr();var u=new Set,s=_=>{for(var d=0;d<_.length;d++){var v=_[d];if(!u.has(v)){u.add(v);var o=Gr(v);t.addEventListener(v,Me,{passive:o});var p=ye.get(v);p===void 0?(document.addEventListener(v,Me,{passive:o}),ye.set(v,1)):ye.set(v,p+1)}}};s(Ot(Qr)),en.add(s);var f=void 0,c=Fr(()=>{var _=n??t.appendChild(We());return je(()=>{if(l){_n({});var d=R;d.c=l}i&&(r.$$events=i),f=e(_,r)||{},l&&dn()}),()=>{for(var d of u){t.removeEventListener(d,Me);var v=ye.get(d);--v===0?(document.removeEventListener(d,Me),ye.delete(d)):ye.set(d,v)}en.delete(s),_!==n&&_.parentNode?.removeChild(_)}});return ni.set(f,c),f}let ni=new WeakMap;function Pe(e,t,n=!1){var r=e,i=null,l=null,a=I,u=n?Pt:0,s=!1;const f=(v,o=!0)=>{s=!0,d(o,v)};var c=null;function _(){c!==null&&(c.lastChild.remove(),r.before(c),c=null);var v=a?i:l,o=a?l:i;v&&Ut(v),o&&Ft(o,()=>{a?l=null:i=null})}const d=(v,o)=>{if(a!==(a=v)){var p=kn(),w=r;if(p&&(c=document.createDocumentFragment(),c.append(w=We())),a?i??=o&&je(()=>o(w)):l??=o&&je(()=>o(w)),p){var T=O,E=a?i:l,A=a?l:i;E&&T.skipped_effects.delete(E),A&&T.skipped_effects.add(A),T.add_callback(_)}else _()}};Nn(()=>{s=!1,t(f),s||d(null,null)},u)}function ri(e,t){return t}function ii(e,t,n){for(var r=e.items,i=[],l=t.length,a=0;a<l;a++)qt(t[a].e,i,!0);var u=l>0&&i.length===0&&n!==null;if(u){var s=n.parentNode;Cr(s),s.append(n),r.clear(),Q(e,t[0].prev,t[l-1].next)}Rn(i,()=>{for(var f=0;f<l;f++){var c=t[f];u||(r.delete(c.k),Q(e,c.prev,c.next)),te(c.e,!u)}})}function mt(e,t,n,r,i,l=null){var a=e,u={flags:t,items:new Map,first:null},s=(t&on)!==0;if(s){var f=e;a=f.appendChild(We())}var c=null,_=!1,d=new Map,v=mn(()=>{var T=n();return kt(T)?T:T==null?[]:Ot(T)}),o,p;function w(){li(p,o,u,d,a,i,t,r,n),l!==null&&(o.length===0?c?Ut(c):c=je(()=>l(a)):c!==null&&Ft(c,()=>{c=null}))}Nn(()=>{p??=y,o=h(v);var T=o.length;if(!(_&&T===0)){_=T===0;var E,A,F,C;if(kn()){var b=new Set,S=O;for(A=0;A<T;A+=1){F=o[A],C=r(F,A);var $=u.items.get(C)??d.get(C);$?(t&(it|lt))!==0&&jn($,F,A,t):(E=Vn(null,u,null,null,F,C,A,i,t,n,!0),d.set(C,E)),b.add(C)}for(const[ve,Ae]of u.items)b.has(ve)||S.skipped_effects.add(Ae.e);S.add_callback(w)}else w();h(v)}})}function li(e,t,n,r,i,l,a,u,s){var f=(a&fr)!==0,c=(a&(it|lt))!==0,_=t.length,d=n.items,v=n.first,o=v,p,w=null,T,E=[],A=[],F,C,b,S;if(f)for(S=0;S<_;S+=1)F=t[S],C=u(F,S),b=d.get(C),b!==void 0&&(b.a?.measure(),(T??=new Set).add(b));for(S=0;S<_;S+=1){if(F=t[S],C=u(F,S),b=d.get(C),b===void 0){var $=r.get(C);if($!==void 0){r.delete(C),d.set(C,$);var ve=w?w.next:o;Q(n,w,$),Q(n,$,ve),wt($,ve,i),w=$}else{var Ae=o?o.e.nodes_start:i;w=Vn(Ae,n,w,w===null?n.first:w.next,F,C,S,l,a,s)}d.set(C,w),E=[],A=[],o=w.next;continue}if(c&&jn(b,F,S,a),(b.e.f&K)!==0&&(Ut(b.e),f&&(b.a?.unfix(),(T??=new Set).delete(b))),b!==o){if(p!==void 0&&p.has(b)){if(E.length<A.length){var we=A[0],G;w=we.prev;var m=E[0],N=E[E.length-1];for(G=0;G<E.length;G+=1)wt(E[G],we,i);for(G=0;G<A.length;G+=1)p.delete(A[G]);Q(n,m.prev,N.next),Q(n,w,m),Q(n,N,we),o=we,w=N,S-=1,E=[],A=[]}else p.delete(b),wt(b,o,i),Q(n,b.prev,b.next),Q(n,b,w===null?n.first:w.next),Q(n,w,b),w=b;continue}for(E=[],A=[];o!==null&&o.k!==C;)(o.e.f&K)===0&&(p??=new Set).add(o),A.push(o),o=o.next;if(o===null)continue;b=o}E.push(b),w=b,o=b.next}if(o!==null||p!==void 0){for(var x=p===void 0?[]:Ot(p);o!==null;)(o.e.f&K)===0&&x.push(o),o=o.next;var P=x.length;if(P>0){var q=(a&on)!==0&&_===0?i:null;if(f){for(S=0;S<P;S+=1)x[S].a?.measure();for(S=0;S<P;S+=1)x[S].a?.fix()}ii(n,x,q)}}f&&Mt(()=>{if(T!==void 0)for(b of T)b.a?.apply()}),e.first=n.first&&n.first.e,e.last=w&&w.e;for(var z of r.values())te(z.e);r.clear()}function jn(e,t,n,r){(r&it)!==0&&Ue(e.v,t),(r&lt)!==0?Ue(e.i,n):e.i=n}function Vn(e,t,n,r,i,l,a,u,s,f,c){var _=(s&it)!==0,d=(s&ur)===0,v=_?d?ae(i,!1,!1):qe(i):i,o=(s&lt)===0?a:qe(a),p={i:o,v,k:l,a:null,e:null,prev:n,next:r};try{if(e===null){var w=document.createDocumentFragment();w.append(e=We())}return p.e=je(()=>u(e,v,o,f),_r),p.e.prev=n&&n.e,p.e.next=r&&r.e,n===null?c||(t.first=p):(n.next=p,n.e.next=p.e),r!==null&&(r.prev=p,r.e.prev=p.e),p}finally{}}function wt(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,i=t?t.e.nodes_start:n,l=e.e.nodes_start;l!==null&&l!==r;){var a=ft(l);i.before(l),l=a}}function Q(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}const ai=Symbol("is custom element"),si=Symbol("is html");function fi(e,t,n,r){var i=ui(e);i[t]!==(i[t]=n)&&(n==null?e.removeAttribute(t):typeof n!="string"&&oi(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function ui(e){return e.__attributes??={[ai]:e.nodeName.includes("-"),[si]:e.namespaceURI===vr}}var nn=new Map;function oi(e){var t=e.getAttribute("is")||e.nodeName,n=nn.get(t);if(n)return n;nn.set(t,n=[]);for(var r,i=e,l=Element.prototype;l!==i;){r=an(i);for(var a in r)r[a].set&&n.push(a);i=At(i)}return n}function Ge(e,t,n=t){var r=new WeakSet;Rr(e,"input",async i=>{var l=i?e.defaultValue:e.value;if(l=gt(e)?yt(l):l,n(l),O!==null&&r.add(O),await Yr(),l!==(l=t())){var a=e.selectionStart,u=e.selectionEnd;e.value=l??"",u!==null&&(e.selectionStart=a,e.selectionEnd=Math.min(u,e.value.length))}}),jt(t)==null&&e.value&&(n(gt(e)?yt(e.value):e.value),O!==null&&r.add(O)),Ur(()=>{var i=t();if(e===document.activeElement){var l=Qe??O;if(r.has(l))return}gt(e)&&i===yt(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function gt(e){var t=e.type;return t==="number"||t==="range"}function yt(e){return e===""?null:+e}function ci(e=!1){const t=R,n=t.l.u;if(!n)return;let r=()=>Kr(t.s);if(e){let i=0,l={};const a=Dt(()=>{let u=!1;const s=t.s;for(const f in s)s[f]!==l[f]&&(l[f]=s[f],u=!0);return u&&i++,i});r=()=>h(a)}n.b.length&&Lr(()=>{rn(t,r),Xe(n.b)}),Qt(()=>{const i=jt(()=>n.m.map(Qn));return()=>{for(const l of i)typeof l=="function"&&l()}}),n.a.length&&Qt(()=>{rn(t,r),Xe(n.a)})}function rn(e,t){if(e.l.s)for(const n of e.l.s)h(n);t()}const vi="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(vi);pr();async function Ce(e,t={}){const n=await fetch(e,{headers:{"Content-Type":"application/json",...t.headers||{}},...t});if(n.status===204)return null;if(!n.ok)throw new Error(`${n.status} ${n.statusText}`);return n.json()}const Ie={createUser:e=>Ce("/users",{method:"POST",body:JSON.stringify(e)}),listPolls:()=>Ce("/polls"),createPoll:(e,t)=>Ce(`/polls?creatorId=${e}`,{method:"POST",body:JSON.stringify(t)}),addOption:(e,t)=>Ce(`/polls/${e}/options`,{method:"POST",body:JSON.stringify(t)}),castVote:(e,t)=>Ce(`/votes?userId=${e}&optionId=${t}`,{method:"POST",body:JSON.stringify({publishedAt:new Date().toISOString()})})};var _i=J('<p style="color:#b00020"> </p>'),di=J('<h3>Identify</h3> <input placeholder="Name"/> <input placeholder="Email"/> <button>Create user</button>',1),hi=J("<p> </p>"),pi=J('<div style="display:flex; gap:.5rem; margin:.25rem 0;"><input/> <button>−</button></div>'),mi=J("<p>No polls yet</p>"),wi=J("<button> </button>"),gi=J("<div></div>"),yi=J("<em>No options yet</em>"),bi=J('<li style="margin:.5rem 0;"><strong> </strong> <!></li>'),Ei=J("<ul></ul>"),Si=J('<main><h1>PollApp</h1> <!> <!> <h3>Create poll</h3> <input placeholder="Question"/> <div><!> <button>+ Option</button></div> <button>Create</button> <h3>Polls</h3> <!></main>');function xi(e,t){_n(t,!1);let n=ae(Number(localStorage.getItem("userId")||0)),r=ae(""),i=ae(""),l=ae(""),a=ae([""]),u=ae([]),s=ae("");async function f(){try{k(u,await Ie.listPolls())}catch(m){k(s,m.message)}}async function c(){k(s,"");try{const m=await Ie.createUser({username:h(r),email:h(i)});k(n,m.id),localStorage.setItem("userId",String(h(n))),k(r,""),k(i,"")}catch(m){k(s,m.message)}}function _(){k(a,[...h(a),""])}function d(m){k(a,h(a).filter((N,x)=>x!==m))}async function v(){k(s,"");try{if(!h(n))throw new Error("Create a user first");if(!h(l).trim())return;const m=new Date,N=new Date(Date.now()+864e5),x=await Ie.createPoll(h(n),{question:h(l),publishedAt:m.toISOString(),validUntil:N.toISOString()});for(let P=0;P<h(a).length;P++){const q=h(a)[P].trim();q&&await Ie.addOption(x.id,{caption:q,presentationOrder:P+1})}k(l,""),k(a,[""]),await f()}catch(m){k(s,m.message)}}async function o(m){m&&(await Ie.castVote(h(n),m),await f())}f(),ci();var p=Si(),w=V(le(p),2);{var T=m=>{var N=_i(),x=le(N);Ke(()=>Je(x,h(s))),H(m,N)};Pe(w,m=>{h(s)&&m(T)})}var E=V(w,2);{var A=m=>{var N=di(),x=V(Jt(N),2),P=V(x,2),q=V(P,2);Ge(x,()=>h(r),z=>k(r,z)),Ge(P,()=>h(i),z=>k(i,z)),Ne("click",q,c),H(m,N)},F=m=>{var N=hi(),x=le(N);Ke(()=>Je(x,`Signed in as user #${h(n)??""}`)),H(m,N)};Pe(E,m=>{h(n)?m(F,!1):m(A)})}var C=V(E,4),b=V(C,2),S=le(b);mt(S,1,()=>h(a),ri,(m,N,x)=>{var P=pi(),q=le(P);fi(q,"placeholder",`Option ${x+1}`);var z=V(q,2);Ge(q,()=>h(a)[x],ct=>Nr(a,h(a)[x]=ct)),Ne("click",z,()=>d(x)),H(m,P)});var $=V(S,2),ve=V(b,2),Ae=V(ve,4);{var we=m=>{var N=mi();H(m,N)},G=m=>{var N=Ei();mt(N,5,()=>h(u),x=>x.id,(x,P)=>{var q=zr(),z=Jt(q);{var ct=vt=>{var Vt=bi(),Ht=le(Vt),Hn=le(Ht),Bn=V(Ht,2);{var Wn=ge=>{var Ye=gi();mt(Ye,5,()=>h(P).options,_t=>_t.id,(_t,dt)=>{var $e=wi(),$n=le($e);Ke(()=>{$e.disabled=!h(dt)?.id,Je($n,h(dt).caption)}),Ne("click",$e,()=>o(h(dt).id)),H(_t,$e)}),H(ge,Ye)},Yn=ge=>{var Ye=yi();H(ge,Ye)};Pe(Bn,ge=>{h(P).options&&h(P).options.length?ge(Wn):ge(Yn,!1)})}Ke(()=>Je(Hn,h(P).question)),H(vt,Vt)};Pe(z,vt=>{h(P)&&h(P).question&&vt(ct)})}H(x,q)}),H(m,N)};Pe(Ae,m=>{h(u).length===0?m(we):m(G,!1)})}Ge(C,()=>h(l),m=>k(l,m)),Ne("click",$,_),Ne("click",ve,v),H(e,p),dn()}ei(xi,{target:document.getElementById("app")});
